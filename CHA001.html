<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=400, initial-scale=1.0">
    <title>멍멍 생각 - 채팅</title>
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/chat.css">
</head>
<body data-screen-id="CHA001">
    <div class="container">
        <div class="header">
            <div class="logo">멍멍 생각</div>
            <div class="header-icons">
                <a href="SER001.html" title="검색">🔍</a>
                <a href="ALM001.html" title="알림">🔔</a>
                <a href="SET001.html" title="설정">⚙️</a>
            </div>
        </div>

        <!-- 프로필 미등록 시 표시 -->
        <div class="no-profile-section" id="noProfileSection">
            <p>프로필을 등록해주세요!</p>
            <a href="MYP001.html" class="profile-btn">프로필로 이동</a>
        </div>

        <!-- 채팅 목록 화면 -->
        <div class="chat-list-section" id="chatListSection" style="display:none;">
            <!-- (반려견 이름)와 대화 섹션 -->
            <div class="dog-chat-section" onclick="openDogChat()">
                <div class="dog-chat-avatar">🐶</div>
                <div class="dog-chat-info">
                    <div class="dog-chat-name" id="dogChatName"></div>
                    <div class="dog-chat-lastmsg">지금 주인님과 대화할 준비 됐어!</div>
                </div>
            </div>
            <div class="chat-list-title">채팅</div>
            <div id="chatRoomList"></div>
        </div>

        <!-- 채팅방 화면 -->
        <div class="chat-room-section" id="chatRoomSection" style="display:none;">
            <div class="chat-room-header">
                <button class="back-btn" onclick="goToChatList()">←</button>
                <span id="chatRoomTitle"></span>
            </div>
            <div class="chat-list" id="chatList"></div>
            <form onsubmit="sendMessage(event)" class="chat-input-group" id="chatInputForm">
                <input type="text" id="messageInput" placeholder="메시지를 입력하세요" required>
                <button type="submit">보내기</button>
            </form>
        </div>

        <div class="nav-bar">
            <a href="HOM001.html" class="nav-button"><span>🐶</span>홈</a>
            <a href="CMM001.html" class="nav-button"><span>🐕</span>멍멍광장</a>
            <a href="CHA001.html" class="nav-button active"><span>💬</span>채팅</a>
            <a href="MYP001.html" class="nav-button"><span>🦮</span>프로필</a>
        </div>
    </div>
    <script src="assets/js/common.js"></script>
    <script src="assets/js/chat.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'935408299bf84505',t:'MTc0NTQ4MTI1OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>